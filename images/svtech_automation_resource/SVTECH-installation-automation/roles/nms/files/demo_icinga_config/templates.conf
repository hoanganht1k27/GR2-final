
template Host "generic-host" {
  action_url = "/grafana/dashboard/db/device-dashboard-overview?histou.js%3ForgId=1&orgId=1&&width=750&height=300&var-hostname=$host.name$"
  max_check_attempts = 3
  check_interval = 1m
  retry_interval = 30s
  check_command = "hostalive"
}

#template Service "generic-service" {
#  max_check_attempts = 5
#  check_interval = 1m
#  retry_interval = 30s
#}

template Host "ACX2100_CSR_Templates" {
  notes = "TEMPLATE FOR ACX2100 Device"
  vars.model = "ACX2100"
  vars.device_type = "CSR"
}

template Host "MX480_AGG_Template" {
  vars.model = "MX480"
  vars.device_type = "AGG"
}

template Host "MX480_BNG_Template" {
  vars.model = "MX480"
  vars.device_type = "BNG"
}

template Host "MX960_MC_Template" {
  vars.model = "MX960"
  vars.device_type = "MC"
}

template Host "QFX_Template" {
  vars.model = "QFX"
  vars.device_type = "SWITCH"
}

template Host "EX3300_Template" {
  vars.model = "EX"
  vars.device_type = "SWITCH"
}

template Service "SNMP-BASIC-TEMPLATE" {
  check_command = "snmp"
  vars.snmp_address = "$address$"
  check_interval = 20m
  retry_interval = 30s
  enable_perfdata = true
  vars.snmp_community = host.vars.snmp_community
}

template Service "NETCONF-BASIC-TEMPLATE" {
  check_command = "check_netconf_tableview"
  vars.plugin_log_surfix = host.address
  #vars.plugin_log_timestamp =
  vars.plugin_log_dir = "/var/log/icinga2/NETCONF"
  vars.plugin_log_level = "ERROR"

  vars.plugin_username = "juniper"
  vars.plugin_password = "juniper@123"
  vars.plugin_port = 22

  enable_perfdata = true
  check_interval = 10m
  check_interval = 20m
  retry_interval = 30s
}


template Service "SNMP-TEXT-WRAPPER-PLUGIN-TEMPLATE" {
  check_command = "check-snmp-with-oid-text-index"
  vars.plugin_log_dir =  "/var/log/icinga2/ICINGA2_PLUGIN_SNMP_WRAPPER_LOG"
  vars.plugin_log_prefix = "juniper"
  vars.plugin_log_timestamp = ""
  vars.plugin_log_surfix = host.name
  vars.plugin_log_level = "WARNING"
}





template Service "QoS-MONITORING-TEMPLATE" {
  vars.service_type = "QOS"
  vars.snmp_oid_qos_prefix.Queued = "1.3.6.1.4.1.2636.3.15.1.1.6."
  vars.snmp_oid_qos_prefix.RedDrop = "1.3.6.1.4.1.2636.3.15.1.1.14."
  vars.snmp_oid_qos_prefix.TailDrop = "1.3.6.1.4.1.2636.3.15.1.1.12."
  #vars.snmp_oid_qos_prefix["TXed"] = "1.3.6.1.4.1.2636.3.15.1.1.10."
    #vars.snmp_label += "Queued,RedDrop,TailDrop,TXed"
    #vars.snmp_units = "Bps,Bps,Pps,Pps"

  vars.snmp_label += "Queued,RedDrop,TailDrop" #the for loop to traverse above dictionary sort dict alphabetically, so put snmp_label alphabetically also
          vars.snmp_units = "Bps,Pps,Pps"
  vars.snmp_timeout = 10
  check_interval = 5m
  retry_interval = 30s
  enable_perfdata = true
}

template Service "FILE-UPLOAD-TEMPLATE" {
  check_command = "file-upload-command"
  enable_perfdata = false
  vars.plugin_password = "juniper@123"
  vars.plugin_username = "juniper"
  vars.plugin_host_address = "$address$"
  vars.plugin_host_name = "$host_name$"
  vars.plugin_output_dir = "/var/log/icinga2/ICINGA2_PLUGIN_UPLOAD_LOG"
  vars.plugin_log_level = "ERROR"
  check_interval = 2h
  check_timeout = 20m
}

template Service "PLUGIN-GENERIC-PARAMETER" {
  vars.plugin_password = "juniper@123"
  vars.plugin_username = "juniper"
  vars.plugin_host_address = "$address$"
  vars.plugin_host_name = "$host_name$"
  vars.plugin_log_level = "ERROR"
}

template Service "CONFIG-CHECK-TEMPLATE" {
  import "PLUGIN-GENERIC-PARAMETER"
  check_command = "config-check-command"
  enable_perfdata = false
  check_interval = 8h
  check_timeout = 5m
  vars.service_type = "config-check"
  vars.plugin_output_dir = "/var/log/icinga2/ICINGA2_PLUGIN_CONFIG_CHECKER_LOG/"
}

template Service "OUTPUT-FETCH-TEMPLATE" {
  import "PLUGIN-GENERIC-PARAMETER"
  check_command = "output-fetch-command"
  enable_perfdata = false
  check_interval = 4h
  check_timeout = 2m
  vars.service_type = "output-check"
  vars.plugin_output_dir = "/var/log/icinga2/ICINGA2_PLUGIN_COMMAND_OUTPUT_FETCH_LOG/"
}

template Service "DESIRED-OUTPUT-CHECK-TEMPLATE" {
  import "PLUGIN-GENERIC-PARAMETER"
  check_command = "desired-output-check-command"
  enable_perfdata = false
  check_interval = 6h
  check_timeout = 5m
  vars.service_type = "output-check"
  vars.plugin_output_dir = "/var/log/icinga2/ICINGA2_PLUGIN_OUTPUT_CHECKER_LOG/"
}

template Service "UNDESIRED-OUTPUT-CHECK-TEMPLATE" {
  import "PLUGIN-GENERIC-PARAMETER"
  check_command = "undesired-output-check-command"
  enable_perfdata = false
  check_interval = 6h
  check_timeout = 5m
  vars.service_type = "output-check"
  vars.plugin_output_dir = "/var/log/icinga2/ICINGA2_PLUGIN_UNDESIRED_OUTPUT_CHECKER_LOG/"
}

template Notification "mail-host-notification-custom" {
  command = "mail-host-notification-custom"
  states = [Up, Down]
  types = [Problem, Recovery, Custom]
  period = "24x7"
}


template Notification "mail-service-notification-custom" {
  command = "mail-service-notification-custom"
  states = [OK, Warning, Critical, Unknown]
  types = [Problem, Recovery, Custom]
  period = "24x7"
}

