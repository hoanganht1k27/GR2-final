{
  "annotations": {
    "list": [
      {
        "builtIn": 1,
        "datasource": "-- Grafana --",
        "enable": true,
        "hide": true,
        "iconColor": "rgba(0, 211, 255, 1)",
        "name": "Annotations & Alerts",
        "type": "dashboard"
      }
    ]
  },
  "editable": true,
  "gnetId": null,
  "graphTooltip": 0,
  "iteration": 1624847453083,
  "links": [],
  "panels": [
    {
      "collapsed": false,
      "datasource": "Elasticsearch-Metric",
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "id": 6,
      "panels": [],
      "title": "PROXYSQL - Backend Status",
      "type": "row"
    },
    {
      "cacheTimeout": null,
      "datasource": "Elasticsearch-PROXYSQL",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "custom": {
            "align": "center",
            "displayMode": "auto",
            "filterable": false
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "dark-green",
                "value": null
              }
            ]
          }
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Status"
            },
            "properties": [
              {
                "id": "custom.displayMode",
                "value": "color-background"
              },
              {
                "id": "thresholds",
                "value": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "dark-green",
                      "value": null
                    },
                    {
                      "color": "dark-green",
                      "value": 0
                    },
                    {
                      "color": "dark-red",
                      "value": 1
                    },
                    {
                      "color": "yellow",
                      "value": 2
                    },
                    {
                      "color": "dark-red",
                      "value": 3
                    }
                  ]
                }
              },
              {
                "id": "mappings",
                "value": [
                  {
                    "from": "",
                    "id": 1,
                    "text": "ONLINE",
                    "to": "",
                    "type": 1,
                    "value": "0"
                  },
                  {
                    "from": "",
                    "id": 2,
                    "text": "SHUNNED",
                    "to": "",
                    "type": 1,
                    "value": "1"
                  },
                  {
                    "from": "",
                    "id": 3,
                    "text": "OFFLINE_SOFT",
                    "to": "",
                    "type": 1,
                    "value": "2"
                  },
                  {
                    "from": "",
                    "id": 4,
                    "text": "OFFLINE_HARD",
                    "to": "",
                    "type": 1,
                    "value": "3"
                  }
                ]
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "ConnErr"
            },
            "properties": [
              {
                "id": "custom.displayMode",
                "value": "color-background"
              },
              {
                "id": "thresholds",
                "value": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "dark-green",
                      "value": null
                    },
                    {
                      "color": "yellow",
                      "value": 1
                    }
                  ]
                }
              },
              {
                "id": "custom.width",
                "value": 80
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Data-Recv"
            },
            "properties": [
              {
                "id": "unit",
                "value": "bytes"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Data-Sent"
            },
            "properties": [
              {
                "id": "unit",
                "value": "bytes"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "ConnOK"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 80
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Latency"
            },
            "properties": [
              {
                "id": "unit",
                "value": "Âµs"
              },
              {
                "id": "custom.width",
                "value": 100
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "ConnUsed"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 80
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "ConnFree"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 80
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "HostGroup"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 80
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Host"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": null
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 19,
        "w": 24,
        "x": 0,
        "y": 1
      },
      "id": 8,
      "links": [],
      "options": {
        "showHeader": true,
        "sortBy": [
          {
            "desc": true,
            "displayName": "Data-Recv"
          }
        ]
      },
      "pluginVersion": "7.4.3",
      "repeat": null,
      "targets": [
        {
          "alias": "",
          "bucketAggs": [],
          "format": "table",
          "group": [],
          "hide": false,
          "metricColumn": "none",
          "metrics": [
            {
              "id": "1",
              "settings": {
                "size": "150"
              },
              "type": "raw_data"
            }
          ],
          "query": "agent.hostname: [[host]] AND sql.metrics.numeric.status:* AND sql.metrics.numeric.hostgroup:[[hostgroup]] AND sql.metrics.string.host:[[host_backend]]",
          "rawQuery": true,
          "rawSql": "SELECT hostgroup, srv_host as Host, \nCASE \nwhen status = 'ONLINE' then 0\nwhen status = 'SHUNNED' then 1\nwhen status = 'OFFLINE_SOFT' then 2\nwhen status = 'OFFLINE_HARD' then 3\nelse 1\nEND as status, ConnUsed, ConnFree, ConnOK, ConnERR, Bytes_data_sent, Bytes_data_recv, Latency_us\nFROM stats_mysql_connection_pool where srv_host in ($host) ORDER BY Bytes_data_recv desc, hostgroup asc, srv_host asc;",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "column"
              }
            ]
          ],
          "timeColumn": "time",
          "timeField": "@timestamp",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "title": "Backend MariaDB Status",
      "transformations": [
        {
          "id": "filterFieldsByName",
          "options": {
            "include": {
              "names": [
                "agent.hostname",
                "sql.metrics.numeric.bytes_data_recv",
                "sql.metrics.numeric.bytes_data_sent",
                "sql.metrics.numeric.connerr",
                "sql.metrics.numeric.connfree",
                "sql.metrics.numeric.connok",
                "sql.metrics.numeric.connused",
                "sql.metrics.numeric.hostgroup",
                "sql.metrics.numeric.latency_us",
                "sql.metrics.numeric.status",
                "sql.metrics.string.host"
              ]
            }
          }
        },
        {
          "id": "groupBy",
          "options": {
            "fields": {
              "agent.hostname": {
                "aggregations": [],
                "operation": "groupby"
              },
              "sql.metrics.numeric.bytes_data_recv": {
                "aggregations": [
                  "lastNotNull"
                ],
                "operation": "aggregate"
              },
              "sql.metrics.numeric.bytes_data_sent": {
                "aggregations": [
                  "lastNotNull"
                ],
                "operation": "aggregate"
              },
              "sql.metrics.numeric.connerr": {
                "aggregations": [
                  "lastNotNull"
                ],
                "operation": "aggregate"
              },
              "sql.metrics.numeric.connfree": {
                "aggregations": [
                  "lastNotNull"
                ],
                "operation": "aggregate"
              },
              "sql.metrics.numeric.connok": {
                "aggregations": [
                  "lastNotNull"
                ],
                "operation": "aggregate"
              },
              "sql.metrics.numeric.connused": {
                "aggregations": [
                  "lastNotNull"
                ],
                "operation": "aggregate"
              },
              "sql.metrics.numeric.hostgroup": {
                "aggregations": [
                  "lastNotNull"
                ],
                "operation": "aggregate"
              },
              "sql.metrics.numeric.latency_us": {
                "aggregations": [
                  "lastNotNull"
                ],
                "operation": "aggregate"
              },
              "sql.metrics.numeric.status": {
                "aggregations": [
                  "lastNotNull"
                ],
                "operation": "aggregate"
              },
              "sql.metrics.string.host": {
                "aggregations": [],
                "operation": "groupby"
              }
            }
          }
        },
        {
          "id": "organize",
          "options": {
            "excludeByName": {},
            "indexByName": {
              "agent.hostname": 0,
              "sql.metrics.numeric.bytes_data_recv (lastNotNull)": 8,
              "sql.metrics.numeric.bytes_data_sent (lastNotNull)": 9,
              "sql.metrics.numeric.connerr (lastNotNull)": 7,
              "sql.metrics.numeric.connfree (lastNotNull)": 5,
              "sql.metrics.numeric.connok (lastNotNull)": 6,
              "sql.metrics.numeric.connused (lastNotNull)": 4,
              "sql.metrics.numeric.hostgroup (lastNotNull)": 1,
              "sql.metrics.numeric.latency_us (lastNotNull)": 10,
              "sql.metrics.numeric.status (lastNotNull)": 3,
              "sql.metrics.string.host": 2
            },
            "renameByName": {
              "agent.hostname": "Host",
              "sql.metrics.numeric.bytes_data_recv (lastNotNull)": "Data-Recv",
              "sql.metrics.numeric.bytes_data_sent (lastNotNull)": "Data-Sent",
              "sql.metrics.numeric.connerr (lastNotNull)": "ConnErr",
              "sql.metrics.numeric.connfree (lastNotNull)": "ConnFree",
              "sql.metrics.numeric.connok (lastNotNull)": "ConnOK",
              "sql.metrics.numeric.connused (lastNotNull)": "ConnUsed",
              "sql.metrics.numeric.hostgroup (lastNotNull)": "HostGroup",
              "sql.metrics.numeric.latency_us (lastNotNull)": "Latency",
              "sql.metrics.numeric.status (lastNotNull)": "Status",
              "sql.metrics.string.host": "Backend"
            }
          }
        },
        {
          "id": "sortBy",
          "options": {
            "fields": {},
            "sort": [
              {
                "field": "Backend-Server"
              }
            ]
          }
        }
      ],
      "type": "table"
    },
    {
      "collapsed": false,
      "datasource": null,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 20
      },
      "id": 42,
      "panels": [],
      "title": "PROXYSQL - User Connections",
      "type": "row"
    },
    {
      "datasource": "Elasticsearch-PROXYSQL",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "custom": {
            "align": null,
            "filterable": false
          },
          "decimals": 0,
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              }
            ]
          },
          "unit": "none"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "sql.metrics.numeric.frontend_connections (sum)"
            },
            "properties": [
              {
                "id": "displayName",
                "value": "frontend_connections"
              },
              {
                "id": "custom.align",
                "value": "center"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "sql.metrics.numeric.frontend_max_connections (sum)"
            },
            "properties": [
              {
                "id": "displayName",
                "value": "frontend_max_connections"
              },
              {
                "id": "custom.align",
                "value": "center"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 8,
        "w": 24,
        "x": 0,
        "y": 21
      },
      "hideTimeOverride": true,
      "id": 46,
      "interval": null,
      "options": {
        "showHeader": true,
        "sortBy": [
          {
            "desc": true,
            "displayName": "frontend_connections"
          }
        ]
      },
      "pluginVersion": "7.4.3",
      "targets": [
        {
          "alias": "",
          "bucketAggs": [],
          "metrics": [
            {
              "id": "1",
              "settings": {
                "size": "100"
              },
              "type": "raw_data"
            }
          ],
          "query": "agent.hostname: [[host]] AND sql.metrics.string.username:*",
          "refId": "A",
          "timeField": "@timestamp"
        }
      ],
      "timeFrom": "60s",
      "timeShift": null,
      "title": "Current User Connections",
      "transformations": [
        {
          "id": "filterFieldsByName",
          "options": {
            "include": {
              "names": [
                "sql.metrics.numeric.frontend_connections",
                "sql.metrics.numeric.frontend_max_connections",
                "sql.metrics.string.username"
              ]
            }
          }
        },
        {
          "id": "groupBy",
          "options": {
            "fields": {
              "agent.hostname": {
                "aggregations": [],
                "operation": null
              },
              "sql.metrics.numeric.frontend_connections": {
                "aggregations": [
                  "sum"
                ],
                "operation": "aggregate"
              },
              "sql.metrics.numeric.frontend_max_connections": {
                "aggregations": [
                  "sum"
                ],
                "operation": "aggregate"
              },
              "sql.metrics.string.username": {
                "aggregations": [],
                "operation": "groupby"
              }
            }
          }
        }
      ],
      "type": "table"
    },
    {
      "aliasColors": {},
      "bars": false,
      "cacheTimeout": null,
      "dashLength": 10,
      "dashes": false,
      "datasource": "Elasticsearch-PROXYSQL",
      "decimals": 0,
      "description": "The number of connections currently used by user",
      "fieldConfig": {
        "defaults": {
          "color": {},
          "custom": {},
          "thresholds": {
            "mode": "absolute",
            "steps": []
          },
          "unit": "short"
        },
        "overrides": []
      },
      "fill": 1,
      "fillGradient": 0,
      "gridPos": {
        "h": 7,
        "w": 12,
        "x": 0,
        "y": 29
      },
      "hiddenSeries": false,
      "id": 10,
      "interval": "90s",
      "legend": {
        "alignAsTable": true,
        "avg": true,
        "current": true,
        "hideEmpty": true,
        "hideZero": false,
        "max": true,
        "min": false,
        "rightSide": true,
        "show": true,
        "total": false,
        "values": true
      },
      "lines": true,
      "linewidth": 1,
      "links": [],
      "nullPointMode": "connected",
      "options": {
        "alertThreshold": true
      },
      "percentage": false,
      "pluginVersion": "7.4.3",
      "pointradius": 0.5,
      "points": true,
      "renderer": "flot",
      "repeat": null,
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        {
          "alias": "",
          "bucketAggs": [
            {
              "field": "sql.metrics.string.username",
              "id": "3",
              "settings": {
                "min_doc_count": "1",
                "order": "desc",
                "orderBy": "_term",
                "size": "0"
              },
              "type": "terms"
            },
            {
              "field": "@timestamp",
              "id": "2",
              "settings": {
                "interval": "auto",
                "min_doc_count": "1"
              },
              "type": "date_histogram"
            }
          ],
          "format": "table",
          "group": [],
          "metricColumn": "none",
          "metrics": [
            {
              "field": "sql.metrics.numeric.frontend_connections",
              "id": "1",
              "type": "sum"
            }
          ],
          "query": "agent.hostname: [[host]]",
          "rawQuery": true,
          "rawSql": " select username, \n frontend_connections as front_connection, \n frontend_max_connections as front_max_connection from stats_mysql_users;",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "column"
              }
            ]
          ],
          "timeColumn": "time",
          "timeField": "@timestamp",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeRegions": [],
      "timeShift": null,
      "title": "Frontend Connections",
      "tooltip": {
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      },
      "transformations": [],
      "type": "graph",
      "xaxis": {
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      },
      "yaxes": [
        {
          "$$hashKey": "object:1488",
          "decimals": 0,
          "format": "short",
          "label": null,
          "logBase": 1,
          "max": null,
          "min": "0",
          "show": true
        },
        {
          "$$hashKey": "object:1489",
          "format": "short",
          "label": null,
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        }
      ],
      "yaxis": {
        "align": false,
        "alignLevel": null
      }
    },
    {
      "aliasColors": {},
      "bars": false,
      "cacheTimeout": null,
      "dashLength": 10,
      "dashes": false,
      "datasource": "Elasticsearch-PROXYSQL",
      "decimals": 0,
      "description": "The maximum number of connections this user is allowed to use, as configured in the mysql_users table in ProxySQL",
      "fieldConfig": {
        "defaults": {
          "color": {},
          "custom": {},
          "thresholds": {
            "mode": "absolute",
            "steps": []
          },
          "unit": "none"
        },
        "overrides": []
      },
      "fill": 1,
      "fillGradient": 0,
      "gridPos": {
        "h": 7,
        "w": 12,
        "x": 12,
        "y": 29
      },
      "hiddenSeries": false,
      "id": 40,
      "interval": "90s",
      "legend": {
        "alignAsTable": true,
        "avg": false,
        "current": true,
        "hideEmpty": true,
        "hideZero": true,
        "max": true,
        "min": false,
        "rightSide": true,
        "show": true,
        "total": false,
        "values": true
      },
      "lines": true,
      "linewidth": 1,
      "links": [],
      "nullPointMode": "connected",
      "options": {
        "alertThreshold": true
      },
      "percentage": false,
      "pluginVersion": "7.4.3",
      "pointradius": 0.5,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        {
          "alias": "",
          "bucketAggs": [
            {
              "field": "sql.metrics.string.username",
              "id": "3",
              "settings": {
                "min_doc_count": "1",
                "order": "desc",
                "orderBy": "_term",
                "size": "0"
              },
              "type": "terms"
            },
            {
              "field": "@timestamp",
              "id": "2",
              "settings": {
                "interval": "auto",
                "min_doc_count": "1"
              },
              "type": "date_histogram"
            }
          ],
          "format": "table",
          "group": [],
          "metricColumn": "none",
          "metrics": [
            {
              "field": "sql.metrics.numeric.frontend_max_connections",
              "id": "1",
              "type": "sum"
            }
          ],
          "query": "agent.hostname: [[host]]",
          "rawQuery": true,
          "rawSql": " select username, \n frontend_connections as front_connection, \n frontend_max_connections as front_max_connection from stats_mysql_users;",
          "refId": "A",
          "select": [
            [
              {
                "params": [
                  "value"
                ],
                "type": "column"
              }
            ]
          ],
          "timeColumn": "time",
          "timeField": "@timestamp",
          "where": [
            {
              "name": "$__timeFilter",
              "params": [],
              "type": "macro"
            }
          ]
        }
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeRegions": [],
      "timeShift": null,
      "title": "Frontend Max Connections",
      "tooltip": {
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      },
      "transformations": [],
      "type": "graph",
      "xaxis": {
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      },
      "yaxes": [
        {
          "$$hashKey": "object:154",
          "decimals": 0,
          "format": "none",
          "label": null,
          "logBase": 1,
          "max": null,
          "min": "0",
          "show": true
        },
        {
          "$$hashKey": "object:155",
          "format": "short",
          "label": null,
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        }
      ],
      "yaxis": {
        "align": false,
        "alignLevel": null
      }
    },
    {
      "collapsed": false,
      "datasource": null,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 36
      },
      "id": 31,
      "panels": [],
      "title": "Data and Rate from Sent/Received Queries",
      "type": "row"
    },
    {
      "datasource": "Elasticsearch-PROXYSQL",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "custom": {},
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "dark-green",
                "value": null
              }
            ]
          },
          "unit": "bytes"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 0,
        "y": 37
      },
      "id": 32,
      "interval": "30s",
      "options": {
        "colorMode": "background",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "text": {},
        "textMode": "auto"
      },
      "pluginVersion": "7.4.3",
      "targets": [
        {
          "alias": "",
          "bucketAggs": [
            {
              "field": "agent.hostname",
              "id": "3",
              "settings": {
                "min_doc_count": "1",
                "order": "desc",
                "orderBy": "_term",
                "size": "0"
              },
              "type": "terms"
            },
            {
              "field": "@timestamp",
              "id": "2",
              "settings": {
                "interval": "auto"
              },
              "type": "date_histogram"
            }
          ],
          "metrics": [
            {
              "field": "sql.metrics.numeric.queries_frontends_bytes_recv",
              "id": "1",
              "type": "avg"
            }
          ],
          "query": "agent.hostname: [[host]]",
          "refId": "A",
          "timeField": "@timestamp"
        }
      ],
      "title": "Frontends Data Received (all time)",
      "transformations": [
        {
          "id": "reduce",
          "options": {
            "reducers": [
              "lastNotNull"
            ]
          }
        },
        {
          "id": "reduce",
          "options": {
            "reducers": [
              "sum"
            ]
          }
        },
        {
          "id": "filterByValue",
          "options": {
            "filters": [
              {
                "config": {
                  "id": "greater",
                  "options": {
                    "value": 0
                  }
                },
                "fieldName": "Total"
              }
            ],
            "match": "any",
            "type": "include"
          }
        }
      ],
      "type": "stat"
    },
    {
      "aliasColors": {
        "hlc-api-01": "dark-green"
      },
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "Elasticsearch-PROXYSQL",
      "decimals": 1,
      "description": "",
      "fieldConfig": {
        "defaults": {
          "color": {},
          "custom": {},
          "thresholds": {
            "mode": "absolute",
            "steps": []
          },
          "unit": "bytes"
        },
        "overrides": []
      },
      "fill": 1,
      "fillGradient": 0,
      "gridPos": {
        "h": 5,
        "w": 18,
        "x": 6,
        "y": 37
      },
      "hiddenSeries": false,
      "hideTimeOverride": true,
      "id": 26,
      "interval": "60s",
      "legend": {
        "alignAsTable": true,
        "avg": false,
        "current": true,
        "hideEmpty": true,
        "hideZero": false,
        "max": true,
        "min": false,
        "rightSide": true,
        "show": true,
        "total": true,
        "values": true
      },
      "lines": true,
      "linewidth": 1,
      "nullPointMode": "connected",
      "options": {
        "alertThreshold": true
      },
      "percentage": false,
      "pluginVersion": "7.4.3",
      "pointradius": 0.5,
      "points": true,
      "renderer": "flot",
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        {
          "alias": "",
          "bucketAggs": [
            {
              "field": "agent.hostname",
              "id": "3",
              "settings": {
                "min_doc_count": "1",
                "order": "desc",
                "orderBy": "_term",
                "size": "0"
              },
              "type": "terms"
            },
            {
              "field": "@timestamp",
              "id": "2",
              "settings": {
                "interval": "auto",
                "min_doc_count": "0"
              },
              "type": "date_histogram"
            }
          ],
          "metrics": [
            {
              "field": "sql.metrics.numeric.queries_frontends_bytes_recv",
              "hide": true,
              "id": "1",
              "type": "avg"
            },
            {
              "field": "1",
              "id": "4",
              "pipelineAgg": "1",
              "type": "derivative"
            }
          ],
          "query": "agent.hostname: [[host]]",
          "refId": "A",
          "timeField": "@timestamp"
        }
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeRegions": [],
      "timeShift": null,
      "title": "Frontends Data Rate Received",
      "tooltip": {
        "shared": true,
        "sort": 2,
        "value_type": "individual"
      },
      "type": "graph",
      "xaxis": {
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      },
      "yaxes": [
        {
          "$$hashKey": "object:223",
          "decimals": 1,
          "format": "bytes",
          "label": null,
          "logBase": 1,
          "max": null,
          "min": "0",
          "show": true
        },
        {
          "$$hashKey": "object:224",
          "format": "short",
          "label": null,
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        }
      ],
      "yaxis": {
        "align": false,
        "alignLevel": null
      }
    },
    {
      "datasource": "Elasticsearch-PROXYSQL",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "custom": {},
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "dark-green",
                "value": null
              }
            ]
          },
          "unit": "bytes"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 0,
        "y": 42
      },
      "id": 33,
      "interval": "30s",
      "options": {
        "colorMode": "background",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "text": {},
        "textMode": "auto"
      },
      "pluginVersion": "7.4.3",
      "targets": [
        {
          "alias": "",
          "bucketAggs": [
            {
              "field": "agent.hostname",
              "id": "3",
              "settings": {
                "min_doc_count": "1",
                "order": "desc",
                "orderBy": "_term",
                "size": "0"
              },
              "type": "terms"
            },
            {
              "field": "@timestamp",
              "id": "2",
              "settings": {
                "interval": "auto",
                "min_doc_count": "0"
              },
              "type": "date_histogram"
            }
          ],
          "metrics": [
            {
              "field": "sql.metrics.numeric.queries_frontends_bytes_sent",
              "id": "1",
              "type": "avg"
            }
          ],
          "query": "agent.hostname: [[host]]",
          "refId": "A",
          "timeField": "@timestamp"
        }
      ],
      "title": "Frontends Data Sent (all time)",
      "transformations": [
        {
          "id": "reduce",
          "options": {
            "reducers": [
              "lastNotNull"
            ]
          }
        },
        {
          "id": "reduce",
          "options": {
            "reducers": [
              "sum"
            ]
          }
        },
        {
          "id": "filterByValue",
          "options": {
            "filters": [
              {
                "config": {
                  "id": "greater",
                  "options": {
                    "value": 0
                  }
                },
                "fieldName": "Total"
              }
            ],
            "match": "any",
            "type": "include"
          }
        }
      ],
      "type": "stat"
    },
    {
      "aliasColors": {
        "hlc-api-01": "dark-green"
      },
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "Elasticsearch-PROXYSQL",
      "decimals": 1,
      "description": "",
      "fieldConfig": {
        "defaults": {
          "color": {},
          "custom": {},
          "thresholds": {
            "mode": "absolute",
            "steps": []
          },
          "unit": "bytes"
        },
        "overrides": []
      },
      "fill": 1,
      "fillGradient": 0,
      "gridPos": {
        "h": 5,
        "w": 18,
        "x": 6,
        "y": 42
      },
      "hiddenSeries": false,
      "id": 27,
      "interval": "30s",
      "legend": {
        "alignAsTable": true,
        "avg": false,
        "current": true,
        "hideEmpty": true,
        "max": true,
        "min": false,
        "rightSide": true,
        "show": true,
        "total": true,
        "values": true
      },
      "lines": true,
      "linewidth": 1,
      "nullPointMode": "connected",
      "options": {
        "alertThreshold": true
      },
      "percentage": false,
      "pluginVersion": "7.4.3",
      "pointradius": 0.5,
      "points": true,
      "renderer": "flot",
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        {
          "alias": "",
          "bucketAggs": [
            {
              "field": "agent.hostname",
              "id": "3",
              "settings": {
                "min_doc_count": "1",
                "order": "desc",
                "orderBy": "_term",
                "size": "0"
              },
              "type": "terms"
            },
            {
              "field": "@timestamp",
              "id": "2",
              "settings": {
                "interval": "auto"
              },
              "type": "date_histogram"
            }
          ],
          "metrics": [
            {
              "field": "sql.metrics.numeric.queries_frontends_bytes_sent",
              "hide": true,
              "id": "1",
              "type": "avg"
            },
            {
              "field": "1",
              "id": "4",
              "pipelineAgg": "1",
              "type": "derivative"
            }
          ],
          "query": "agent.hostname: [[host]]",
          "refId": "A",
          "timeField": "@timestamp"
        }
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeRegions": [],
      "timeShift": null,
      "title": "Frontends Data Rate Sent",
      "tooltip": {
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      },
      "type": "graph",
      "xaxis": {
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      },
      "yaxes": [
        {
          "$$hashKey": "object:333",
          "decimals": 1,
          "format": "bytes",
          "label": null,
          "logBase": 1,
          "max": null,
          "min": "0",
          "show": true
        },
        {
          "$$hashKey": "object:334",
          "format": "short",
          "label": null,
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        }
      ],
      "yaxis": {
        "align": false,
        "alignLevel": null
      }
    },
    {
      "datasource": "Elasticsearch-PROXYSQL",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "custom": {},
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "dark-blue",
                "value": null
              }
            ]
          },
          "unit": "bytes"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 0,
        "y": 47
      },
      "id": 34,
      "interval": "30s",
      "options": {
        "colorMode": "background",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "text": {},
        "textMode": "auto"
      },
      "pluginVersion": "7.4.3",
      "targets": [
        {
          "alias": "",
          "bucketAggs": [
            {
              "field": "agent.hostname",
              "id": "3",
              "settings": {
                "min_doc_count": "1",
                "order": "desc",
                "orderBy": "_term",
                "size": "0"
              },
              "type": "terms"
            },
            {
              "field": "@timestamp",
              "id": "2",
              "settings": {
                "interval": "auto"
              },
              "type": "date_histogram"
            }
          ],
          "metrics": [
            {
              "field": "sql.metrics.numeric.queries_backends_bytes_recv",
              "id": "1",
              "type": "avg"
            }
          ],
          "query": "agent.hostname: [[host]]",
          "refId": "A",
          "timeField": "@timestamp"
        }
      ],
      "title": "Backends Data Received (all time)",
      "transformations": [
        {
          "id": "reduce",
          "options": {
            "reducers": [
              "lastNotNull"
            ]
          }
        },
        {
          "id": "reduce",
          "options": {
            "reducers": [
              "sum"
            ]
          }
        },
        {
          "id": "filterByValue",
          "options": {
            "filters": [
              {
                "config": {
                  "id": "greater",
                  "options": {
                    "value": 0
                  }
                },
                "fieldName": "Total"
              }
            ],
            "match": "any",
            "type": "include"
          }
        }
      ],
      "type": "stat"
    },
    {
      "aliasColors": {
        "hlc-api-01": "dark-green"
      },
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "Elasticsearch-PROXYSQL",
      "decimals": 1,
      "description": "",
      "fieldConfig": {
        "defaults": {
          "color": {},
          "custom": {},
          "thresholds": {
            "mode": "absolute",
            "steps": []
          },
          "unit": "bytes"
        },
        "overrides": []
      },
      "fill": 1,
      "fillGradient": 0,
      "gridPos": {
        "h": 5,
        "w": 18,
        "x": 6,
        "y": 47
      },
      "hiddenSeries": false,
      "id": 28,
      "interval": "30s",
      "legend": {
        "alignAsTable": true,
        "avg": false,
        "current": true,
        "max": true,
        "min": false,
        "rightSide": true,
        "show": true,
        "total": true,
        "values": true
      },
      "lines": true,
      "linewidth": 1,
      "nullPointMode": "connected",
      "options": {
        "alertThreshold": true
      },
      "percentage": false,
      "pluginVersion": "7.4.3",
      "pointradius": 0.5,
      "points": true,
      "renderer": "flot",
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        {
          "alias": "",
          "bucketAggs": [
            {
              "field": "agent.hostname",
              "id": "3",
              "settings": {
                "min_doc_count": "1",
                "order": "desc",
                "orderBy": "_term",
                "size": "0"
              },
              "type": "terms"
            },
            {
              "field": "@timestamp",
              "id": "2",
              "settings": {
                "interval": "auto"
              },
              "type": "date_histogram"
            }
          ],
          "metrics": [
            {
              "field": "sql.metrics.numeric.queries_backends_bytes_recv",
              "hide": true,
              "id": "1",
              "type": "avg"
            },
            {
              "field": "1",
              "id": "4",
              "pipelineAgg": "1",
              "type": "derivative"
            }
          ],
          "query": "agent.hostname: [[host]]",
          "refId": "A",
          "timeField": "@timestamp"
        }
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeRegions": [],
      "timeShift": null,
      "title": "Backends Data Rate Received",
      "tooltip": {
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      },
      "type": "graph",
      "xaxis": {
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      },
      "yaxes": [
        {
          "$$hashKey": "object:585",
          "decimals": 1,
          "format": "bytes",
          "label": null,
          "logBase": 1,
          "max": null,
          "min": "0",
          "show": true
        },
        {
          "$$hashKey": "object:586",
          "format": "short",
          "label": null,
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        }
      ],
      "yaxis": {
        "align": false,
        "alignLevel": null
      }
    },
    {
      "datasource": "Elasticsearch-PROXYSQL",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "custom": {},
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "dark-blue",
                "value": null
              }
            ]
          },
          "unit": "bytes"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 0,
        "y": 52
      },
      "id": 35,
      "interval": "30s",
      "options": {
        "colorMode": "background",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "text": {},
        "textMode": "auto"
      },
      "pluginVersion": "7.4.3",
      "targets": [
        {
          "alias": "",
          "bucketAggs": [
            {
              "field": "agent.hostname",
              "id": "3",
              "settings": {
                "min_doc_count": "1",
                "order": "desc",
                "orderBy": "_term",
                "size": "0"
              },
              "type": "terms"
            },
            {
              "field": "@timestamp",
              "id": "2",
              "settings": {
                "interval": "auto"
              },
              "type": "date_histogram"
            }
          ],
          "metrics": [
            {
              "field": "sql.metrics.numeric.queries_backends_bytes_sent",
              "id": "1",
              "type": "avg"
            }
          ],
          "query": "agent.hostname: [[host]]",
          "refId": "A",
          "timeField": "@timestamp"
        }
      ],
      "title": "Backends Data Sent (all time)",
      "transformations": [
        {
          "id": "reduce",
          "options": {
            "reducers": [
              "lastNotNull"
            ]
          }
        },
        {
          "id": "reduce",
          "options": {
            "reducers": [
              "sum"
            ]
          }
        },
        {
          "id": "filterByValue",
          "options": {
            "filters": [
              {
                "config": {
                  "id": "greater",
                  "options": {
                    "value": 0
                  }
                },
                "fieldName": "Total"
              }
            ],
            "match": "any",
            "type": "include"
          }
        }
      ],
      "type": "stat"
    },
    {
      "aliasColors": {
        "hlc-api-01": "dark-green",
        "hlc-api-02": "green"
      },
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "Elasticsearch-PROXYSQL",
      "decimals": 1,
      "description": "",
      "fieldConfig": {
        "defaults": {
          "color": {},
          "custom": {},
          "thresholds": {
            "mode": "absolute",
            "steps": []
          },
          "unit": "bytes"
        },
        "overrides": []
      },
      "fill": 1,
      "fillGradient": 0,
      "gridPos": {
        "h": 5,
        "w": 18,
        "x": 6,
        "y": 52
      },
      "hiddenSeries": false,
      "id": 29,
      "interval": "30s",
      "legend": {
        "alignAsTable": true,
        "avg": false,
        "current": true,
        "hideEmpty": true,
        "max": true,
        "min": false,
        "rightSide": true,
        "show": true,
        "total": true,
        "values": true
      },
      "lines": true,
      "linewidth": 1,
      "nullPointMode": "connected",
      "options": {
        "alertThreshold": true
      },
      "percentage": false,
      "pluginVersion": "7.4.3",
      "pointradius": 0.5,
      "points": true,
      "renderer": "flot",
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        {
          "alias": "",
          "bucketAggs": [
            {
              "field": "agent.hostname",
              "id": "3",
              "settings": {
                "min_doc_count": "1",
                "order": "desc",
                "orderBy": "_term",
                "size": "0"
              },
              "type": "terms"
            },
            {
              "field": "@timestamp",
              "id": "2",
              "settings": {
                "interval": "auto"
              },
              "type": "date_histogram"
            }
          ],
          "metrics": [
            {
              "field": "sql.metrics.numeric.queries_backends_bytes_sent",
              "hide": true,
              "id": "1",
              "type": "avg"
            },
            {
              "field": "1",
              "id": "4",
              "pipelineAgg": "1",
              "type": "derivative"
            }
          ],
          "query": "agent.hostname: [[host]]",
          "refId": "A",
          "timeField": "@timestamp"
        }
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeRegions": [],
      "timeShift": null,
      "title": "Backends Data Rate Sent",
      "tooltip": {
        "shared": true,
        "sort": 0,
        "value_type": "individual"
      },
      "type": "graph",
      "xaxis": {
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      },
      "yaxes": [
        {
          "$$hashKey": "object:499",
          "decimals": 1,
          "format": "bytes",
          "label": null,
          "logBase": 1,
          "max": null,
          "min": "0",
          "show": true
        },
        {
          "$$hashKey": "object:500",
          "format": "short",
          "label": null,
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        }
      ],
      "yaxis": {
        "align": false,
        "alignLevel": null
      }
    },
    {
      "collapsed": false,
      "datasource": null,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 57
      },
      "id": 22,
      "panels": [],
      "title": "PROXYSQL - Commands Informations",
      "type": "row"
    },
    {
      "datasource": "Elasticsearch-PROXYSQL",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "custom": {
            "align": "center",
            "displayMode": "auto",
            "filterable": false
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "dark-green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "count"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 60
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "min_time"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 90
              },
              {
                "id": "unit",
                "value": "Âµs"
              },
              {
                "id": "custom.displayMode",
                "value": "color-background"
              },
              {
                "id": "thresholds",
                "value": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "dark-green",
                      "value": null
                    },
                    {
                      "color": "yellow",
                      "value": 5000000
                    },
                    {
                      "color": "dark-red",
                      "value": 10000000
                    }
                  ]
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "max_time"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 90
              },
              {
                "id": "unit",
                "value": "Âµs"
              },
              {
                "id": "custom.displayMode",
                "value": "color-background"
              },
              {
                "id": "thresholds",
                "value": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "dark-green",
                      "value": null
                    },
                    {
                      "color": "yellow",
                      "value": 5000000
                    },
                    {
                      "color": "dark-red",
                      "value": 10000000
                    }
                  ]
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "rows_affected"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 90
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "query_content"
            },
            "properties": [
              {
                "id": "custom.displayMode",
                "value": "json-view"
              },
              {
                "id": "custom.width",
                "value": null
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Host"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 120
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "last_time"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 160
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "rows_sent"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 130
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "username"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 152
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "schema"
            },
            "properties": [
              {
                "id": "custom.width",
                "value": 182
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 17,
        "w": 24,
        "x": 0,
        "y": 58
      },
      "hideTimeOverride": true,
      "id": 48,
      "interval": "70s",
      "options": {
        "showHeader": true,
        "sortBy": [
          {
            "desc": true,
            "displayName": "max_time"
          }
        ]
      },
      "pluginVersion": "7.4.3",
      "targets": [
        {
          "alias": "",
          "bucketAggs": [],
          "metrics": [
            {
              "id": "1",
              "settings": {
                "size": "200"
              },
              "type": "raw_data"
            }
          ],
          "query": "agent.hostname: [[host]] AND sql.metrics.string.first_time:*",
          "refId": "A",
          "timeField": "@timestamp"
        }
      ],
      "timeFrom": "70s",
      "title": "Summary Queries' Informations",
      "transformations": [
        {
          "id": "filterFieldsByName",
          "options": {
            "include": {
              "names": [
                "agent.hostname",
                "sql.metrics.numeric.count",
                "sql.metrics.numeric.max_time",
                "sql.metrics.numeric.min_time",
                "sql.metrics.numeric.rows_affected",
                "sql.metrics.numeric.rows_sent",
                "sql.metrics.string.last_time",
                "sql.metrics.string.query_content",
                "sql.metrics.string.schema",
                "sql.metrics.string.username"
              ]
            }
          }
        },
        {
          "id": "renameByRegex",
          "options": {
            "regex": "sql.metrics.numeric.",
            "renamePattern": ""
          }
        },
        {
          "id": "renameByRegex",
          "options": {
            "regex": "sql.metrics.string.",
            "renamePattern": ""
          }
        },
        {
          "id": "organize",
          "options": {
            "excludeByName": {},
            "indexByName": {
              "agent.hostname": 0,
              "client_address": 4,
              "count": 5,
              "first_time": 12,
              "hostgroup": 1,
              "last_time": 6,
              "max_time": 9,
              "min_time": 8,
              "query_content": 13,
              "rows_affected": 10,
              "rows_sent": 11,
              "schema": 2,
              "sum_time": 7,
              "username": 3
            },
            "renameByName": {
              "agent.hostname": "Host"
            }
          }
        }
      ],
      "type": "table"
    },
    {
      "collapsed": true,
      "datasource": null,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 75
      },
      "id": 16,
      "panels": [
        {
          "datasource": "Elasticsearch-PROXYSQL",
          "description": "The total uptime of ProxySQL",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {},
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "dark-green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 3600
                  },
                  {
                    "color": "dark-green",
                    "value": 3601
                  }
                ]
              },
              "unit": "s"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 3,
            "w": 24,
            "x": 0,
            "y": 76
          },
          "id": 37,
          "interval": "30s",
          "options": {
            "colorMode": "background",
            "graphMode": "none",
            "justifyMode": "center",
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "/^sql\\.metrics.numeric.proxysql_uptime$/",
              "values": true
            },
            "text": {},
            "textMode": "auto"
          },
          "pluginVersion": "7.4.3",
          "repeat": "host",
          "scopedVars": {
            "host": {
              "selected": true,
              "text": "hlc-api-01",
              "value": "hlc-api-01"
            }
          },
          "targets": [
            {
              "alias": "",
              "bucketAggs": [],
              "metrics": [
                {
                  "id": "1",
                  "settings": {
                    "size": "1"
                  },
                  "type": "raw_data"
                }
              ],
              "query": "agent.hostname: [[host]] AND sql.metrics.numeric.proxysql_uptime:*",
              "refId": "A",
              "timeField": "@timestamp"
            }
          ],
          "title": "[[host]] - Uptime",
          "transformations": [
            {
              "id": "filterFieldsByName",
              "options": {
                "include": {
                  "pattern": ""
                }
              }
            }
          ],
          "type": "stat"
        },
        {
          "datasource": "Elasticsearch-PROXYSQL",
          "description": "Each row represents a global statistic at the proxy level related to MySQL including:\n\nKey Memory Usage\nGlobal Connections\nConnection Pooling\nSQL Statements",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "align": null,
                "displayMode": "auto",
                "filterable": false
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "dark-green",
                    "value": null
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Value"
                },
                "properties": [
                  {
                    "id": "custom.align",
                    "value": "center"
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 16,
            "w": 24,
            "x": 0,
            "y": 79
          },
          "id": 13,
          "interval": "30s",
          "options": {
            "showHeader": true,
            "sortBy": []
          },
          "pluginVersion": "7.4.3",
          "repeat": "host",
          "scopedVars": {
            "host": {
              "selected": true,
              "text": "hlc-api-01",
              "value": "hlc-api-01"
            }
          },
          "targets": [
            {
              "alias": "",
              "bucketAggs": [],
              "format": "table",
              "group": [],
              "metricColumn": "none",
              "metrics": [
                {
                  "id": "1",
                  "settings": {
                    "size": "1"
                  },
                  "type": "raw_data"
                }
              ],
              "query": "agent.hostname: [[host]] AND sql.metrics.numeric.proxysql_uptime:*",
              "rawQuery": true,
              "rawSql": "select * from stats_mysql_global where Variable_Name in \n('Active_Transactions',\n'Client_Connections_aborted',\n'Client_Connections_connected',\n'Client_Connections_created',\n'Server_Connections_aborted',\n'Server_Connections_connected',\n'Server_Connections_created',\n'Questions',\n'Slow_queries',\n'max_connect_timeouts',\n'Access_Denied_Wrong_Password',\n'Access_Denied_Max_Connections',\n'Access_Denied_Max_User_Connections',\n'ConnPool_memory_bytes'\n);",
              "refId": "A",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "column"
                  }
                ]
              ],
              "timeColumn": "time",
              "timeField": "@timestamp",
              "where": [
                {
                  "name": "$__timeFilter",
                  "params": [],
                  "type": "macro"
                }
              ]
            }
          ],
          "title": "[[host]] - Attribute Informations ",
          "transformations": [
            {
              "id": "filterFieldsByName",
              "options": {
                "include": {
                  "names": [
                    "sql.metrics.numeric.access_denied_max_connections",
                    "sql.metrics.numeric.access_denied_max_user_connections",
                    "sql.metrics.numeric.access_denied_wrong_password",
                    "sql.metrics.numeric.active_transactions",
                    "sql.metrics.numeric.client_connections_aborted",
                    "sql.metrics.numeric.client_connections_connected",
                    "sql.metrics.numeric.client_connections_created",
                    "sql.metrics.numeric.connpool_memory_bytes",
                    "sql.metrics.numeric.max_connect_timeouts",
                    "sql.metrics.numeric.questions",
                    "sql.metrics.numeric.server_connections_aborted",
                    "sql.metrics.numeric.server_connections_connected",
                    "sql.metrics.numeric.server_connections_created",
                    "sql.metrics.numeric.slow_queries"
                  ]
                }
              }
            },
            {
              "id": "renameByRegex",
              "options": {
                "regex": "sql.metrics.numeric.",
                "renamePattern": ""
              }
            },
            {
              "id": "reduce",
              "options": {
                "reducers": [
                  "lastNotNull"
                ]
              }
            },
            {
              "id": "renameByRegex",
              "options": {
                "regex": "Last.*",
                "renamePattern": "Value"
              }
            }
          ],
          "type": "table"
        }
      ],
      "title": "PROXYSQL - Attribute Informations",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": "Elasticsearch-Metric",
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 76
      },
      "id": 4,
      "panels": [
        {
          "alignNumbersToRightEnabled": true,
          "cacheTimeout": null,
          "columnAliases": [
            {
              "$$hashKey": "object:112",
              "alias": "error_no",
              "name": "errno"
            },
            {
              "$$hashKey": "object:114",
              "alias": "error_no_count",
              "name": "count_star"
            },
            {
              "$$hashKey": "object:116",
              "alias": "schema",
              "name": "schemaname"
            }
          ],
          "columnFiltersEnabled": false,
          "columnWidthHints": [],
          "columns": [],
          "compactRowsEnabled": true,
          "datasource": "${datasource}",
          "datatablePagingType": "simple_numbers",
          "datatableTheme": "basic_theme",
          "emptyData": true,
          "fieldConfig": {
            "defaults": {
              "color": {},
              "custom": {},
              "thresholds": {
                "mode": "absolute",
                "steps": []
              }
            },
            "overrides": []
          },
          "fontSize": "100%",
          "gridPos": {
            "h": 17,
            "w": 24,
            "x": 0,
            "y": 63
          },
          "hoverEnabled": true,
          "id": 2,
          "infoEnabled": true,
          "interval": null,
          "lengthChangeEnabled": true,
          "links": [],
          "orderColumnEnabled": true,
          "pagingTypes": [
            {
              "$$hashKey": "object:280",
              "text": "Page number buttons only",
              "value": "numbers"
            },
            {
              "$$hashKey": "object:281",
              "text": "'Previous' and 'Next' buttons only",
              "value": "simple"
            },
            {
              "$$hashKey": "object:282",
              "text": "'Previous' and 'Next' buttons, plus page numbers",
              "value": "simple_numbers"
            },
            {
              "$$hashKey": "object:283",
              "text": "'First', 'Previous', 'Next' and 'Last' buttons",
              "value": "full"
            },
            {
              "$$hashKey": "object:284",
              "text": "'First', 'Previous', 'Next' and 'Last' buttons, plus page numbers",
              "value": "full_numbers"
            },
            {
              "$$hashKey": "object:285",
              "text": "'First' and 'Last' buttons, plus page numbers",
              "value": "first_last_numbers"
            }
          ],
          "panelHeight": 592,
          "pluginVersion": "7.4.3",
          "rowNumbersEnabled": false,
          "rowsPerPage": 10,
          "scroll": false,
          "scrollHeight": "default",
          "searchEnabled": true,
          "searchHighlightingEnabled": true,
          "showCellBorders": true,
          "showHeader": true,
          "showRowBorders": true,
          "sort": {
            "col": 0,
            "desc": true
          },
          "sortByColumns": [
            {
              "$$hashKey": "object:227",
              "columnData": 0,
              "sortMethod": "desc"
            }
          ],
          "sortByColumnsData": [
            [
              0,
              "desc"
            ]
          ],
          "stripedRowsEnabled": true,
          "styles": [
            {
              "$$hashKey": "object:230",
              "colorMode": null,
              "colors": [
                "rgba(245, 54, 54, 0.9)",
                "rgba(237, 129, 40, 0.89)",
                "rgba(50, 172, 45, 0.97)"
              ],
              "decimals": 2,
              "pattern": "/.*/",
              "splitPattern": "/ /",
              "thresholds": [],
              "type": "number",
              "unit": "short"
            }
          ],
          "targets": [
            {
              "alias": "",
              "bucketAggs": [
                {
                  "id": "2",
                  "settings": {
                    "interval": "auto"
                  },
                  "type": "date_histogram"
                }
              ],
              "format": "table",
              "group": [],
              "metricColumn": "none",
              "metrics": [
                {
                  "id": "1",
                  "type": "count"
                }
              ],
              "query": "",
              "rawQuery": true,
              "rawSql": "select * from stats_mysql_errors where hostname in ($host);",
              "refId": "A",
              "select": [
                [
                  {
                    "params": [
                      "value"
                    ],
                    "type": "column"
                  }
                ]
              ],
              "timeColumn": "time",
              "timeField": "@timestamp",
              "where": [
                {
                  "name": "$__timeFilter",
                  "params": [],
                  "type": "macro"
                }
              ]
            }
          ],
          "themeOptions": {
            "dark": "./styles/dark.scss",
            "light": "./styles/light.scss"
          },
          "themes": [
            {
              "$$hashKey": "object:255",
              "disabled": false,
              "text": "Basic",
              "value": "basic_theme"
            },
            {
              "$$hashKey": "object:256",
              "disabled": true,
              "text": "Bootstrap",
              "value": "bootstrap_theme"
            },
            {
              "$$hashKey": "object:257",
              "disabled": true,
              "text": "Foundation",
              "value": "foundation_theme"
            },
            {
              "$$hashKey": "object:258",
              "disabled": true,
              "text": "ThemeRoller",
              "value": "themeroller_theme"
            }
          ],
          "title": "PROXYSQL - Error Commands",
          "transform": "table",
          "transformations": [
            {
              "id": "filterFieldsByName",
              "options": {
                "include": {
                  "names": [
                    "hostgroup",
                    "hostname",
                    "port",
                    "username",
                    "client_address",
                    "schemaname",
                    "errno",
                    "count_star",
                    "last_error"
                  ]
                }
              }
            }
          ],
          "type": "briangann-datatable-panel"
        }
      ],
      "title": "PROXYSQL - Error Commands",
      "type": "row"
    }
  ],
  "refresh": false,
  "schemaVersion": 27,
  "style": "dark",
  "tags": [
    "Metric"
  ],
  "templating": {
    "list": [
      {
        "allValue": null,
        "current": {
          "selected": true,
          "text": [
            "All"
          ],
          "value": [
            "$__all"
          ]
        },
        "datasource": "Elasticsearch-PROXYSQL",
        "definition": "{\"find\": \"terms\", \"field\": \"agent.hostname\", \"query\": \"fields.group:AAA\"}",
        "description": null,
        "error": null,
        "hide": 0,
        "includeAll": true,
        "label": "Host",
        "multi": true,
        "name": "host",
        "options": [],
        "query": "{\"find\": \"terms\", \"field\": \"agent.hostname\", \"query\": \"fields.group:AAA\"}",
        "refresh": 2,
        "regex": "",
        "skipUrlSync": false,
        "sort": 0,
        "tagValuesQuery": "",
        "tags": [],
        "tagsQuery": "",
        "type": "query",
        "useTags": false
      },
      {
        "allValue": null,
        "current": {
          "selected": true,
          "text": [
            "All"
          ],
          "value": [
            "$__all"
          ]
        },
        "datasource": "Elasticsearch-PROXYSQL",
        "definition": "{\"find\": \"terms\", \"field\": \"sql.metrics.numeric.hostgroup\", \"query\": \"agent.hostname: [[host]] AND fields.group:AAA and sql.metrics.numeric.hostgroup:*\"}",
        "description": null,
        "error": null,
        "hide": 0,
        "includeAll": true,
        "label": "Proxysql-Hostgroup",
        "multi": true,
        "name": "hostgroup",
        "options": [],
        "query": "{\"find\": \"terms\", \"field\": \"sql.metrics.numeric.hostgroup\", \"query\": \"agent.hostname: [[host]] AND fields.group:AAA and sql.metrics.numeric.hostgroup:*\"}",
        "refresh": 2,
        "regex": "",
        "skipUrlSync": false,
        "sort": 0,
        "tagValuesQuery": "",
        "tags": [],
        "tagsQuery": "",
        "type": "query",
        "useTags": false
      },
      {
        "allValue": null,
        "current": {
          "selected": true,
          "text": [
            "All"
          ],
          "value": [
            "$__all"
          ]
        },
        "datasource": "Elasticsearch-PROXYSQL",
        "definition": "{\"find\": \"terms\", \"field\": \"sql.metrics.string.host\", \"query\": \"agent.hostname: [[host]] AND fields.group:AAA and sql.metrics.numeric.hostgroup:[[hostgroup]]\"}",
        "description": null,
        "error": null,
        "hide": 0,
        "includeAll": true,
        "label": "Proxysql-Backend-Host",
        "multi": true,
        "name": "host_backend",
        "options": [],
        "query": "{\"find\": \"terms\", \"field\": \"sql.metrics.string.host\", \"query\": \"agent.hostname: [[host]] AND fields.group:AAA and sql.metrics.numeric.hostgroup:[[hostgroup]]\"}",
        "refresh": 2,
        "regex": "",
        "skipUrlSync": false,
        "sort": 0,
        "tagValuesQuery": "",
        "tags": [],
        "tagsQuery": "",
        "type": "query",
        "useTags": false
      }
    ]
  },
  "time": {
    "from": "now-1h",
    "to": "now"
  },
  "timepicker": {},
  "timezone": "",
  "title": "03 - Service - Api Gateway - SQL Proxy",
  "uid": "03-service-apigateway-sqlproxy"
}